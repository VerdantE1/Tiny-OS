实模式下：

MBR位于0x7c00

LOADER.BIN的起始地址为0x900,指令部分为0x900+0x300(数据段) =0xb00

显卡段在0xb8000





保护模式下：

有了段寄存器存的是段描述符，段描述符里面有存段基址，通过选择子进行索引。段描述符的宏定义参数在boot.inc中有，loader.S直接用宏构造段描述符。

段描述符是为了保护内存块，增加了CPU对内存的控制。

启动保护模式后，再启动分页机制，CPU通过选择子找段描述符，解引段描述符里面的段基址，通过段部件算出线性地址（虚拟地址），再通过页部件找真实物理地址。



页目录项在0x100000,注意分页机制算页目录和页表的地址时，它们都被当作真实物理地址直接送上地址总线，此时关闭了分页功能，否则会递归。



















loader.bin里面构建了段描述符（由一个指针指引GDT），宏定义了选择子，启动了保护模式，在启动保护模式之前将kernel.bin加载到内存，之后开启保护模式，构建了页目录表，页表，开启了分页模式，再将bin文件解引到0x1500, 虚拟地址为0xc0001500。

后面的建设都是在kernel中

